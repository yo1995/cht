{"meta":{"title":"Manifestations of Chen Ting","subtitle":null,"description":null,"author":"Chen Ting","url":"https://yo1995.github.io"},"pages":[{"title":"Categories","date":"2016-08-15T08:05:04.109Z","updated":"2016-08-14T17:14:45.053Z","comments":true,"path":"categories/index.html","permalink":"https://yo1995.github.io/categories/index.html","excerpt":"","text":""},{"title":"About","date":"2016-08-15T15:21:14.635Z","updated":"2016-08-15T15:21:14.635Z","comments":false,"path":"about/index.html","permalink":"https://yo1995.github.io/about/index.html","excerpt":"","text":"The blog theme you may fall in love with, coming to Hexo. Preview InstallationInstall1$ git clone https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus Icarus requires Hexo 3.0 and above. Enable Rename themes\\icarus\\_config.yml.example to themes\\icarus\\_config.yml; Copy themes\\icarus\\_config.yml.site.example to your hexo blog’s root directory and rename it to _config.yml; Copy themes\\icarus\\_source\\* into your hexo blog’s directory source; Then modify theme setting in _config.yml to icarus. Update12cd themes/icarusgit pull ConfigurationTheme configuration example1234567891011121314151617181920212223242526272829303132333435363738394041# Headermenu: Home: . Archives: archives Categories: categories # you need to add extra page to enable this, please see the config below. Tags: tags # you need to add extra page to enable this, please see the config below. About: about# Contentexcerpt_link: Read Morefancybox: true# Sidebarsidebar: rightwidgets:- recent_posts- category- tag- tagcloud- archivethumbnail: true# Contactscontacts: github: http://github.com/ppoffice/hexo-theme-icarus twitter: '#' facebook: '#' dribbble: '#' rss: atom.xml# Linkslinks: Hexo: http://hexo.io# Miscellaneousgoogle_analytics:favicon: favicon.pngtwitter:google_plus:fb_admins:fb_app_id: excerpt_link - Cooperate with &lt;!-- more --&gt; tag to show only part of the article in index pages. fancybox - Enable Fancybox. contacts - Your social network links, RSS link, etc. widgets - Widgets displaying in sidebar. thumbnail - Whether to show post thumbnails in the sidebar and archive pages. links - Links displayed in the link widget. google_analytics - Google Analytics ID. favicon - Favicon path. Site configuration example123456789101112131415# Sitetitle: Icarussubtitle:description: Hexo theme - Icarusauthor: PPOfficeauthor_title: 'Web Developer &amp; Designer'avatar: css/images/avatar.pnglocation: 'Harbin, China'language: entimezone:...# Disqusdisqus_shortname: author - Your name. author_title - Title to your occupation. avatar - Your avatar image link. location - Where you live in. disqus_shortname - Your Disqus shortname. Post Thumbnail &amp; BannerYou can add a thumbnail and a banner to each post by adding the following lines into your post source files’ front-matter:123456title: Demodate: 2015-01-01...# add thosethumbnail: http://example.com/thumbnail.jpgbanner: http://example.com/banner.jpg Custom Categories &amp; Tags PagesTo enable custom categories page and tags page, just copy the categories folder and tags folder under your theme’s _source foler into your site’s source folder. Then edit theme’s _config.yml and add the following lines:123456# Headermenu: ... Categories: categories # -&gt; add this line Tags: tags # -&gt; and add this line ... LanguagesEnglish and Simplified Chinese are the default languages of the theme. You can add translations in the languages folder and change the default language in blog’s _config.yml. 1language: zh-CN FeaturesProfile SidebarA nice place to show yourself. You can add your own information in your site’s _config.yml Post Banner &amp; ThumbnailThanks to atika, you can now add thumbnails and banners to every post to create better reading experience. Responsive LayoutIcarus knows on what screen size you are browsering the website, and reorganize the layout to fit your device. Custom Categories &amp; Tags PagesGet your categories and tags listed in single pages to make your blog more methodic. FancyboxIcarus uses Fancybox to showcase your photos. You can use Markdown syntax or fancybox tag plugin to add your photos. 1![img caption](img url) SidebarIcarus provides 6 built-in widgets: recent_posts category archives tag tagcloud links All of them are enabled by default. You can edit them in widget setting. DevelopmentRequirements Grunt 0.4+ Hexo 3.0+ Grunt tasks default - Download Fancybox and Font Awesome. fontawesome - Only download Font Awesome. fancybox - Only download Fancybox. clean - Clean temporarily files and downloaded files."},{"title":"","date":"2016-08-16T12:06:30.447Z","updated":"2016-08-16T12:06:30.447Z","comments":true,"path":"gallery/data.json","permalink":"https://yo1995.github.io/gallery/data.json","excerpt":"","text":"[\"4.png\",\"pinkypie.png\"]"},{"title":"Tags","date":"2016-08-15T08:05:04.103Z","updated":"2016-08-14T17:14:45.054Z","comments":true,"path":"tags/index.html","permalink":"https://yo1995.github.io/tags/index.html","excerpt":"","text":""},{"title":"相册","date":"2016-08-15T17:17:56.000Z","updated":"2016-08-18T11:09:02.738Z","comments":false,"path":"gallery/index.html","permalink":"https://yo1995.github.io/gallery/index.html","excerpt":"","text":""}],"posts":[{"title":"『TOP』 About this page","slug":"About-this-page","date":"2016-08-15T07:17:56.000Z","updated":"2016-08-16T12:09:30.828Z","comments":true,"path":"2016/08/15/About-this-page/","link":"","permalink":"https://yo1995.github.io/cht/2016/08/15/About-this-page/","excerpt":"The main purpose of this page","text":"The main purpose of this page建立本页面的目的The main purpose of this page 建立此页面主要为展示本人本科期间所从事的各项活动，并借此熟悉Markdown与hexo","categories":[{"name":"101s","slug":"101s","permalink":"https://yo1995.github.io/categories/101s/"}],"tags":[{"name":"Description","slug":"Description","permalink":"https://yo1995.github.io/tags/Description/"}]},{"title":"Hello World & hexo notes","slug":"hello-world","date":"2016-08-14T16:53:41.002Z","updated":"2016-08-18T11:08:08.320Z","comments":true,"path":"2016/08/15/hello-world/","link":"","permalink":"https://yo1995.github.io/cht/2016/08/15/hello-world/","excerpt":"记录使用hexo与自定义的相关历程Record the process of the development of this page.","text":"记录使用hexo与自定义的相关历程Record the process of the development of this page. 原模板自带简介Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment 以下为个人记录常规操作类生成并部署1$ hexo generate --deploy 清空本地生成1$ hexo clean 图片视频类视频：iframe标签、或者video标签：1234567&lt;embed type=\"video/mp4\" allowscriptaccess=\"always\" allowfullscreen=\"true\" wmode=\"transparent\" quality=\"high\" height=\"300\" width=\"480\" src=\"http://7.com/3.mp4\"/&gt;&lt;iframe height=498 width=510 src=\" \" frameborder=0 allowfullscreen&gt;&lt;/iframe&gt;&lt;video width=\"498\" height=\"510 \" src=\" \" poster=\" \" autoplay=\"autoplay\"&gt;&lt;/video&gt;&lt;embed src=\"/cht/css/images/banner-flash.swf\" allowFullScreen=\"true\" quality=\"high\" width=\"480\" height=\"400\" align=\"middle\" allowScriptAccess=\"always\" type=\"application/x-shockwave-flash\"&gt;&lt;/embed&gt; 加入置顶功能node_modules/hexo-generator-index/lib/generator.js12345678910111213141516171819202122232425262728'use strict';var pagination = require('hexo-pagination');module.exports = function(locals)&#123; var config = this.config; var posts = locals.posts; posts.data = posts.data.sort(function(a, b) &#123; if(a.top &amp;&amp; b.top) &#123; // 两篇文章top都有定义 if(a.top == b.top) return b.date - a.date; // 若top值一样则按照文章日期降序排 else return b.top - a.top; // 否则按照top值降序排 &#125; else if(a.top &amp;&amp; !b.top) &#123; // 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233） return -1; &#125; else if(!a.top &amp;&amp; b.top) &#123; return 1; &#125; else return b.date - a.date; // 都没定义按照文章日期降序排 &#125;); var paginationDir = config.pagination_dir || 'page'; return pagination('', posts, &#123; perPage: config.index_generator.per_page, layout: ['index', 'archive'], format: paginationDir + '/%d/', data: &#123; __index: true &#125; &#125;);&#125;; 加入gallery功能，每次更新文件时需运行1node tool.js 关于asset-img文件夹的解决方案之一http://www.tuicool.com/articles/umEBVfI目前自己解决的办法是放到css/thumbnail绝对路径下，肯定没错就是有点不优雅 增加swf-flash文件作为banner功能：·添加post/swf.ejs文件12&lt;a href=&quot;&lt;%- url_for((post.link ? post.link : post.title)) %&gt;&quot; target=&quot;_blank&quot; itemprop=&quot;url&quot; class=&quot;flash&quot;&gt;&lt;/a&gt; &lt;embed src=&quot;&lt;%- post.swf %&gt;&quot; allowFullScreen=&quot;true&quot; quality=&quot;best&quot; width=&quot;100%&quot; height=&quot;100%&quot; align=&quot;middle&quot; allowScriptAccess=&quot;always&quot; scale=&quot;noborder&quot; type=&quot;application/x-shockwave-flash&quot; class=&quot;flash-banner&quot;&gt;&lt;/embed&gt; ·修改article.ejs文件:123&lt;% if (post.swf) &#123; %&gt; &lt;%- partial(&apos;post/swf&apos;) %&gt; &lt;% &#125; %&gt; front-matter相关修改noshare属性12&lt;% if (!post.noshare) &#123; %&gt;&lt;% &#125; %&gt; 这样加入noshare属性并设置为true即可关闭分享功能 Icarus主题-相册解决方案前言为了蛋疼的执念，也为了对百度空间的缅怀，自己执意要添加一个相册模块。不需要很复杂，简单就好主要需求有： 能够展示照片（废话） 能够点击照片放大 能够左右翻阅照片 随着页面滚动分段加载 能够显示照片对应文件名 自适应排列github对比vps的主要优势在于其不限制流量、访问数等等参数，且国内外访问速度都不慢。作为一个图床比较合适。可惜github对于单仓库貌似有1GB大小限制。由于并不需要传大文件，暂时忽略这个问题。 起手干完以后发现网上的方案都是 屎 ！ 主要参考了yilia主题的两篇博文：http://luckykun.com/work/2016-05-20/hexo-advance.html#修改themes-yilia-js-photo-js：http://zlwis.me/photo/ 关于fancybox：一般博文里使用直接用以下方式即可：http://sowm.cn/aips/article/0E1C44647F2F34C99E070ACF324407E7.html123456/*** Fancybox tag** Syntax:* &#123;% fancybox /path/to/image [/path/to/thumbnail] [title] %&#125;*/ 先去看fancybox的documentation。用起来比较简单，直接调用就好1$('.fancybox').fancybox(); 由于Icarus主题作者ppoffice贴心地在main.js配置好了fancybox载入相关的内容，我们只需要将需要载入的图片调整好标签的格式就行。于是乎，就按照上面的需求开始设计这个相册。 首先建立导航栏中的相册gallery分类；其次在该分类下放indexpage。index.md配置如下：12345678910111213---title: 相册layout: \"page\"comments: falsenoshare: true---&lt;link type=\"text/css\" href=\"/cht/vendor/fancybox/jquery.fancybox.css\" rel=\"stylesheet\"&gt;&lt;script src=\"https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;&lt;div class=\"instagram\"&gt; &lt;section class=\"archives album\"&gt; &lt;ul class=\"img-box-ul\"&gt;&lt;/ul&gt; &lt;/section&gt;&lt;/div&gt; 此处加入了一个require.js。主要原因在于作者没有学过js也不想看文档，就想照猫画虎。参考的博主是这么做的，直接学习。需要注意的是，requirejs使用时有一些限制，具体需要参考其文档。一个错误使用方法造成的报错可参考以下页面：http://luckykun.com/photos/报错：Uncaught Error: Mismatched anonymous define() js的修改由于yilia主题和icarus主题所用的js不尽相同，文件夹结构也不同，很多地方需要调整。首先，为了区分相册页面中的图片与普通博文中的图片，上面在标签中添加了Instagram的属性。在main.js中需要对这个标签进行处理：12345678910//instaif($('.instagram').length) &#123; var bp = document.createElement(\"script\"); bp.src = \"/js/photo.js\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(bp, s), require(['/js/photo.js', '/js/jquery.lazyload.js', '/vendor/fancybox/jquery.fancybox.js'], function(obj) &#123; obj.init(); &#125;);&#125; 接着来到require到的三个js。首先是photo.js主要实现的功能就是从另一个repo中读取照片链接，在页面上加载并改变尺寸装到fancybox里，最后实现滚动异步加载。为了节省空间并没有专门生成thumbnail，只得以费流量为代价了（不痛不痒）具体实现请参考仓库中代码~（偷懒）~ 主要难点其实没啥难点，就是因为自己比较倔非得不看文档瞎写。 总之，实现请参考：https://yo1995.github.io/cht/gallery/ 终于搞定了，最后在fancybox的css中加一项12345ul li &#123; float: left; list-style-type: none; margin: 10px;&#125; 这样可以使图片列表横向载入","categories":[{"name":"101s","slug":"101s","permalink":"https://yo1995.github.io/categories/101s/"}],"tags":[{"name":"test","slug":"test","permalink":"https://yo1995.github.io/tags/test/"}]}]}